<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" template="./template.xhtml">


	<ui:define name="content">

		<h:form>
			<div class="form-group">
				<h1>New Student</h1>
				<h:outputLabel value="first name" />
				<h:inputText value="#{studentBean.currentStudent.firstName}"
					id="firstName" styleClass="form-control" />
				<h:message for="firstName"></h:message>
			</div>

			<div class="form-group">
				<h:outputLabel value="last name" />
				<h:inputText value="#{studentBean.currentStudent.lastName}"
					id="lastName" styleClass="form-control"></h:inputText>
				<h:message for="lastName"></h:message>
			</div>

			<div class="form-group">
				<h:outputLabel value="matriculation id" />
				<h:inputText value="#{studentBean.currentStudent.matriculationId}"
					id="matriculationId" styleClass="form-control">
				</h:inputText>
				<h:message for="matriculationId"></h:message>
			</div>

			<h:commandButton value="save" action="#{studentBean.save}"
				styleClass="btn btn-primary"></h:commandButton>

		</h:form>

		<hr />

		<div class="card mt-5">
			<div class="card-body">
				<h5 class="card-title">Change Log</h5>

				<h:dataTable value="#{studentBean.currentStudent.changeLogs}"
					var="cl" class="table">
					<h:column>
						<f:facet name="header">#</f:facet>
                            #{cl.id}
                    </h:column>
					<h:column>
						<f:facet name="header">modified time</f:facet>
                            #{cl.modifiedTime}
                    </h:column>
					<h:column>
						<f:facet name="header">action</f:facet>
                            #{cl.action}
                    </h:column>
				</h:dataTable>

			</div>
		</div>

	</ui:define>
</ui:composition>